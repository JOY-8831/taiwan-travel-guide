import{_ as G}from"./CAQH29Vi.js";import{_ as U}from"./BTxh1Rga.js";import{d as W,n as Q,r as v,k as F,o as K,z as s,D as C,O as p,B as a,Q as m,J as g,K as x,N as b,G as P,A as o,R as N,C as h,S as k,L as q,F as X,_ as Y}from"./Dhb-oGz8.js";import{t as Z,w as tt}from"./DdGQAvxv.js";const et={id:"tours-page",class:"page-layout"},at={class:"sticky-bar-wrapper"},it={class:"sticky-bar"},st={class:"region-filter-bar"},ot=["onClick"],rt={class:"tours-container"},dt={class:"frame"},ct={class:"header-section"},lt={key:0,class:"tag-container"},ht={id:"tour-list",class:"tour-grid"},nt={class:"tour-header"},vt={class:"tour-title"},gt=["onClick"],ut={width:"32",height:"32",viewBox:"0 0 16 14","aria-hidden":"true",class:"icon-outline"},ft={width:"32",height:"32",viewBox:"0 0 20 16","aria-hidden":"true",class:"icon-filled"},yt={class:"tour-desc"},wt={class:"tour-flow"},xt={class:"spot-img-wrapper"},_t=["src","onError"],pt={class:"spot-info"},mt={class:"spot-name"},At={class:"ch-name"},Dt={class:"spot-details"},Ft={key:0,class:"flow-arrow"},Ct=W({__name:"tours",setup(bt){const A=Q().app.baseURL,D=P(),n=v([]),c=v([]),u=v("N"),S=[{name:"ðŸ™ï¸ North",code:"N"},{name:"ðŸŒº South-East",code:"SE"}],T=F({get:()=>u.value,set:t=>{u.value=t}}),E=t=>{u.value=t},B=v(!0);K(()=>{const t=localStorage.getItem("userTravelStyles")||"";if(t)try{n.value=JSON.parse(t)}catch{n.value=[]}const e=localStorage.getItem("selectedTours");if(e)try{c.value=JSON.parse(e)}catch{c.value=[]}});const R=t=>{c.value.includes(t)?c.value=c.value.filter(e=>e!==t):c.value.push(t),localStorage.setItem("selectedTours",JSON.stringify(c.value))},_=t=>c.value.includes(t),I=F(()=>{const e=(Z||[]).filter(r=>r.id.startsWith(u.value+"-"));return n.value.length===0?e:e.filter(r=>r.pointCodes?r.pointCodes.filter(i=>!!i).some(i=>{const w=i.split("-")[1];return typeof w=="string"?n.value.includes(w):!1}):!1)}),f=t=>t?(tt||[]).find(l=>l.Code===t)||{Name_CH:"æ‰¾ä¸åˆ°æ™¯é»ž",Name_EN:"Spot Not Found"}:{Name_CH:"æœªçŸ¥æ™¯é»ž",Name_EN:"Unknown Spot"},$=t=>{const e=f(t);return{Modern:"#001D62",Japanese:"#B85A2A",Qing:"#8B2323",Discovery:"#1A6B6B",Indigenous:"#4A7A2A"}[e.Era]??"#001D62"},H=t=>({C:"City",N:"Nature",M:"Museum",R:"Relaxation"})[t]||t,y=v({}),J=t=>{const e=y.value[t]||".jpg";return`${A}images/${t}${e}`},L=(t,e)=>{const r=t.target,l=y.value[e]||".jpg";l===".jpg"?y.value[e]=".png":l===".png"&&(r.src=`${A}images/fallback.jpg`,y.value[e]="fallback")},M=()=>{D.push("/travel-style")},V=()=>{D.push("/must-eat")},j=()=>{window.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTo({top:0,behavior:"smooth"})},O=()=>{const t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);window.scrollTo({top:t,behavior:"smooth"}),document.documentElement.scrollTo({top:t,behavior:"smooth"})};return(t,e)=>{const r=G,l=U;return o(),s("div",et,[C(r,{dark:!0,onClick:M}),p(a("div",at,[a("div",it,[a("div",st,[(o(),s(g,null,x(S,i=>a("button",{key:i.code,class:N(["region-btn",{active:T.value===i.code}]),onClick:d=>E(i.code)},h(i.name),11,ot)),64))])])],512),[[m,B.value]]),a("div",rt,[a("main",dt,[a("div",ct,[e[0]||(e[0]=a("h1",{class:"title"},"Explore Tours",-1)),e[1]||(e[1]=a("p",{class:"subtitle"},"Discover the beauty of Taiwan through our curated tours.",-1)),n.value.length>0?(o(),s("div",lt,[(o(!0),s(g,null,x(n.value,i=>(o(),s("span",{key:i,class:"style-tag"}," # "+h(H(i)),1))),128))])):b("",!0)]),a("div",ht,[(o(!0),s(g,null,x(I.value,i=>(o(),s("div",{key:i.id,class:"tour-block"},[a("div",nt,[a("h2",vt,h(i.title),1),a("button",{class:N(["heart-btn",{active:_(i.id)}]),onClick:d=>R(i.id),"aria-label":"Add to favorites"},[p((o(),s("svg",ut,[...e[2]||(e[2]=[k('<g data-v-d00e1694><rect x="8.70996" y="1.45158" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="10.1616" y="0.000137329" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="11.6133" y="0.000137329" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="13.0649" y="0.000137329" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="7.2583" y="2.90349" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="5.80664" y="1.45158" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="4.3551" y="0.000137329" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="2.90344" y="0.000137329" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="1.45178" y="0.000137329" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="14.5166" y="1.45158" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="14.5166" y="2.90349" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="14.5166" y="4.35493" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="13.0649" y="5.80638" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="11.6133" y="7.25829" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="10.1616" y="8.71021" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="8.70996" y="10.1617" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="0.00012207" y="1.45158" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="0.00012207" y="2.90349" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="0.00012207" y="4.35493" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="2.90344" y="7.25829" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="1.45178" y="5.80638" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="4.3551" y="8.71021" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="5.80664" y="10.1617" width="1.45166" height="1.45166" data-v-d00e1694></rect><rect x="7.2583" y="11.6136" width="1.45166" height="1.45166" data-v-d00e1694></rect></g>',1)])],512)),[[m,!_(i.id)]]),p((o(),s("svg",ft,[...e[3]||(e[3]=[k('<g data-v-d00e1694><rect x="10.6667" y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="12.4446" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="14.2222" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="16" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="8.88892" y="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="7.11108" y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="5.3335" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="1.77783" y="0.000133514" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="1.77783" y="1.77797" width="5.33325" height="5.33301" fill="#D18FA1" data-v-d00e1694></rect><rect x="12.4446" y="1.77797" width="5.33325" height="5.33301" fill="#D18FA1" data-v-d00e1694></rect><rect x="7.11108" y="3.55526" width="5.33325" height="8.88916" fill="#D18FA1" data-v-d00e1694></rect><rect x="17.7778" y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="17.7778" y="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="17.7778" y="5.33338" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="16" y="7.11109" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="14.2222" y="8.8888" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="12.4446" y="10.6668" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="10.6667" y="12.4445" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect y="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect y="5.33338" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="3.55542" y="8.88881" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="5.33325" y="8.88881" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="5.33325" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="12.4443" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="12.4443" y="8.88875" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="14.2224" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="1.77783" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="3.55542" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="5.3335" y="10.6668" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="7.11108" y="12.4445" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="8.88892" y="14.2223" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect><rect x="8.88892" y="12.4445" width="1.77778" height="1.77778" fill="#D18FA1" data-v-d00e1694></rect></g>',1)])],512)),[[m,_(i.id)]])],10,gt)]),a("p",yt,h(i.description),1),a("div",wt,[(o(!0),s(g,null,x(i.pointCodes,(d,w)=>(o(),s(g,{key:d},[a("div",{class:"spot-card",style:q({borderColor:$(d)})},[a("div",xt,[a("img",{src:J(d),class:"spot-img",onError:z=>L(z,d)},null,40,_t)]),a("div",pt,[a("div",mt,[X(h(f(d).Name_EN)+" ",1),a("span",At,"CH: "+h(f(d).Name_CH),1)]),a("span",Dt,h(f(d).Details),1)])],4),w<i.pointCodes.length-1?(o(),s("div",Ft," âžœ ")):b("",!0)],64))),128))])]))),128))])]),C(l,{text:"Next! Time for food!",type:"next",onClick:V})]),a("div",{class:"scroll-controls"},[a("button",{class:"scroll-btn",onClick:j,title:"Go to Top"},"â¬†"),a("button",{class:"scroll-btn",onClick:O,title:"Go to Bottom"},"â¬‡")])])}}}),Bt=Y(Ct,[["__scopeId","data-v-d00e1694"]]);export{Bt as default};
