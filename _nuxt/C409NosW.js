import{_ as E}from"./CAQH29Vi.js";import{_ as H}from"./Btsozv48.js";import{d as I,r as f,o as O,k as R,z as a,D as x,B as e,J as n,K as y,N as _,H as V,G as J,A as s,C as h,R as M,O as m,Q as p,S as D,F as G,_ as $}from"./Dhb-oGz8.js";import{t as j,w as z}from"./DdGQAvxv.js";const L={id:"tours-page",class:"page-layout"},W={class:"frame"},K={class:"header-section"},P={class:"tag-container"},Q={class:"tour-list"},U={key:0,class:"no-results"},q={class:"tour-header"},X={class:"tour-title"},Y=["onClick"],Z={width:"32",height:"32",viewBox:"0 0 16 14","aria-hidden":"true",class:"icon-outline"},tt={width:"32",height:"32",viewBox:"0 0 20 16","aria-hidden":"true",class:"icon-filled"},et={class:"tour-desc"},ct={class:"tour-flow"},it={class:"spot-card"},at={class:"spot-img-wrapper"},st=["src"],rt={class:"spot-info"},ot={class:"spot-name"},lt={class:"ch-name"},ht={class:"spot-details"},dt={key:0,class:"flow-arrow"},nt={class:"next-section"},vt=I({__name:"tours_old",setup(gt){const v=J(),d=f([]),o=f([]);O(()=>{const c=localStorage.getItem("userTravelStyles")||"";if(c)try{d.value=JSON.parse(c)}catch{d.value=[]}const t=localStorage.getItem("selectedTours");if(t)try{o.value=JSON.parse(t)}catch{o.value=[]}});const F=c=>{o.value.includes(c)?o.value=o.value.filter(t=>t!==c):o.value.push(c),localStorage.setItem("selectedTours",JSON.stringify(o.value))},g=c=>o.value.includes(c),w=R(()=>{const c=j||[];return d.value.length===0?c:c.filter(t=>t.pointCodes?t.pointCodes.filter(l=>!!l).some(l=>{const r=l.split("-")[1];return typeof r=="string"?d.value.includes(r):!1}):!1)}),u=c=>c?(z||[]).find(l=>l.Code===c)||{Name_CH:"找不到景點",Name_EN:"Spot Not Found"}:{Name_CH:"未知景點",Name_EN:"Unknown Spot"},A=c=>({C:"City",N:"Nature",M:"Museum",R:"Relaxation"})[c]||c,C=c=>{const t=c.target;t&&(t.src="/images/fallback.jpg")},N=()=>{v.push("/travel-style")},k=()=>{v.push("/must-eat")},T=()=>{window.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTo({top:0,behavior:"smooth"})},S=()=>{const c=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);window.scrollTo({top:c,behavior:"smooth"}),document.documentElement.scrollTo({top:c,behavior:"smooth"})};return(c,t)=>{const b=E,l=H;return s(),a("div",L,[x(b,{onClick:N}),e("main",W,[e("header",K,[t[1]||(t[1]=e("h1",{class:"title"},"✨ Suggested Tours",-1)),t[2]||(t[2]=e("p",{class:"subtitle"},"Based on your travel style, we recommend these routes:",-1)),e("div",P,[(s(!0),a(n,null,y(d.value,i=>(s(),a("span",{key:i,class:"style-tag"}," # "+h(A(i)),1))),128))])]),e("section",Q,[w.value.length===0?(s(),a("div",U,[t[3]||(t[3]=e("p",null,"No tours found matching your selection.",-1)),e("button",{class:"retry-btn",onClick:t[0]||(t[0]=i=>V(v).push("/travel-style"))}," Reselect Style ")])):_("",!0),(s(!0),a(n,null,y(w.value,i=>(s(),a("div",{key:i.id,class:"tour-block"},[e("div",q,[e("h2",X,h(i.title),1),e("button",{class:M(["heart-btn",{active:g(i.id)}]),onClick:r=>F(i.id),"aria-label":"Add to favorites"},[m((s(),a("svg",Z,[...t[4]||(t[4]=[D('<g data-v-624ce4b0><rect x="8.70996" y="1.45158" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="10.1616" y="0.000137329" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="11.6133" y="0.000137329" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="13.0649" y="0.000137329" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="7.2583" y="2.90349" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="5.80664" y="1.45158" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="4.3551" y="0.000137329" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="2.90344" y="0.000137329" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="1.45178" y="0.000137329" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="14.5166" y="1.45158" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="14.5166" y="2.90349" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="14.5166" y="4.35493" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="13.0649" y="5.80638" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="11.6133" y="7.25829" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="10.1616" y="8.71021" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="8.70996" y="10.1617" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="0.00012207" y="1.45158" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="0.00012207" y="2.90349" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="0.00012207" y="4.35493" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="2.90344" y="7.25829" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="1.45178" y="5.80638" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="4.3551" y="8.71021" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="5.80664" y="10.1617" width="1.45166" height="1.45166" data-v-624ce4b0></rect><rect x="7.2583" y="11.6136" width="1.45166" height="1.45166" data-v-624ce4b0></rect></g>',1)])],512)),[[p,!g(i.id)]]),m((s(),a("svg",tt,[...t[5]||(t[5]=[D('<g data-v-624ce4b0><rect x="10.6667" y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="12.4446" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="14.2222" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="16" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="8.88892" y="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="7.11108" y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="5.3335" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="1.77783" y="0.000133514" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="1.77783" y="1.77797" width="5.33325" height="5.33301" fill="#D18FA1" data-v-624ce4b0></rect><rect x="12.4446" y="1.77797" width="5.33325" height="5.33301" fill="#D18FA1" data-v-624ce4b0></rect><rect x="7.11108" y="3.55526" width="5.33325" height="8.88916" fill="#D18FA1" data-v-624ce4b0></rect><rect x="17.7778" y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="17.7778" y="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="17.7778" y="5.33338" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="16" y="7.11109" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="14.2222" y="8.8888" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="12.4446" y="10.6668" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="10.6667" y="12.4445" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect y="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect y="5.33338" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="3.55542" y="8.88881" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="5.33325" y="8.88881" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="5.33325" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="12.4443" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="12.4443" y="8.88875" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="14.2224" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="1.77783" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="3.55542" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="5.3335" y="10.6668" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="7.11108" y="12.4445" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="8.88892" y="14.2223" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect><rect x="8.88892" y="12.4445" width="1.77778" height="1.77778" fill="#D18FA1" data-v-624ce4b0></rect></g>',1)])],512)),[[p,g(i.id)]])],10,Y)]),e("p",et,h(i.description),1),e("div",ct,[(s(!0),a(n,null,y(i.pointCodes,(r,B)=>(s(),a(n,{key:r},[e("div",it,[e("div",at,[e("img",{src:`/images/${r}.jpg`,class:"spot-img",onError:C},null,40,st)]),e("div",rt,[e("div",ot,[G(h(u(r).Name_EN)+" ",1),e("span",lt,"CH: "+h(u(r).Name_CH),1)]),e("span",ht,h(u(r).Details),1)])]),B<i.pointCodes.length-1?(s(),a("div",dt," ➜ ")):_("",!0)],64))),128))])]))),128))]),e("div",nt,[x(l,{text:"Next! Time for food!",type:"ok",onClick:k})])]),e("div",{class:"scroll-controls"},[e("button",{class:"scroll-btn",onClick:T,title:"Go to Top"},"⬆"),e("button",{class:"scroll-btn",onClick:S,title:"Go to Bottom"},"⬇")])])}}}),ft=$(vt,[["__scopeId","data-v-624ce4b0"]]);export{ft as default};
