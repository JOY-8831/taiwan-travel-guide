import{a0 as u,r,o as I,k as c,a1 as v}from"./Dhb-oGz8.js";import{w as M,f as T}from"./DdGQAvxv.js";const J=()=>{const a=u("favorites",()=>[]),s=u("favoriteTitles",()=>({})),l=r([]),i=r([]),n=r(!1),f=e=>{const t=e.Name_EN?.trim()||"",o=e.Name_CH?.trim()||"";return t&&o?`${t} / ${o}`:t||o||e.Code},d=()=>{localStorage.setItem("favorites",JSON.stringify(a.value)),localStorage.setItem("favoriteTitles",JSON.stringify(s.value))},g=e=>a.value.includes(e),m=e=>{const t=e.Code,o=a.value.indexOf(t);if(o===-1)a.value.push(t),s.value[t]=f(e);else{a.value.splice(o,1);const{[t]:y,...D}=s.value;s.value=D}d()},S=async()=>{n.value||(l.value=M,i.value=T,n.value=!0,console.log("Must See & Eat Data loaded from static file."))};I(()=>{{const e=localStorage.getItem("favorites"),t=localStorage.getItem("favoriteTitles");e&&(a.value=JSON.parse(e)),t&&(s.value=JSON.parse(t))}});const p=c(()=>l.value),N=c(()=>i.value);return{favoriteIds:v(a),favoriteTitles:v(s),isFavorite:g,toggleFavorite:m,getMustSeeList:p,getMustEatList:N,loadData:S}};export{J as u};
