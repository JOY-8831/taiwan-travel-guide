import{_ as M}from"./Btsozv48.js";import{d as O,n as U,r as C,k as w,z as a,A as h,B as t,N as x,F as H,C as o,U as b,O as D,Q as A,S as p,$ as L,D as z,J as R,K as P,H as j,_ as J}from"./Dhb-oGz8.js";import{u as K}from"./DfxfsO8D.js";const Q={class:"card-topic"},q={key:0,class:"ch-name"},G=["aria-pressed","aria-label"],X={width:"32",height:"32",viewBox:"0 0 16 14","aria-hidden":"true",class:"icon-outline"},Y={width:"32",height:"32",viewBox:"0 0 20 16","aria-hidden":"true",class:"icon-filled"},Z={class:"card-image-wrapper"},ee=["src","alt"],te={class:"modal-content"},ie={class:"modal-header"},ae={class:"modal-title"},he={key:0,class:"ch-name"},re={key:0,class:"modal-city"},de=["aria-pressed","aria-label"],ce={width:"32",height:"32",viewBox:"0 0 16 14","aria-hidden":"true",class:"icon-outline"},le={width:"32",height:"32",viewBox:"0 0 20 16","aria-hidden":"true",class:"icon-filled"},se={class:"modal-body"},oe={class:"modal-image-wrapper"},ve=["src","alt"],ge={class:"modal-details"},ne={class:"modal-description"},we={key:0},xe={class:"example-label"},ye=O({__name:"WishCard",props:{item:{},showCH:{type:Boolean,default:!0}},setup(r){const k=U().app.baseURL,d=r,{isFavorite:T,toggleFavorite:I}=K(),W=C(`${k}images/fallback.jpg`),n=C(".jpg"),$=w(()=>{const i=d.item.Code;return`${k}images/${i}${n.value}`}),B=i=>{const e=i.target;n.value===".jpg"?(n.value=".png",console.warn(`Image failed with .jpg for ${d.item.Code}. Retrying with .png.`)):n.value===".png"&&(e.src=W.value,n.value="",console.error(`Image failed with .png for ${d.item.Code}. Using default placeholder.`))},c=w(()=>T(d.item.Code)),y=w(()=>(d.item.Name_EN||d.item.Code).replace("(Taiwan)","").trim()),f=w(()=>d.item.Name_CH),_=C(!1),S=()=>{_.value=!0,document.body.style.overflow="hidden",n.value=".jpg"},N=()=>{_.value=!1,document.body.style.overflow=""},m=w(()=>{const i=d.item.Details;if(!i)return{preface:"",exampleTag:"",listItems:[]};const e=/(Examples?:)/i,u=i.match(e);if(!u)return{preface:i,exampleTag:"",listItems:[]};const[l]=u,F=i.indexOf(l),V=i.substring(0,F).trim(),E=i.substring(F+l.length).trim();let v=E.split(/[.]\s/).map(s=>s.trim()).filter(s=>s.length>0);if(v.length>0&&(v=v.map(s=>{let g=s;return g.length>0&&!/[.?!]$/.test(g)&&(g+="."),g}),E.endsWith("."))){const s=v.length-1,g=v[s];g&&!g.endsWith(".")&&(v[s]+=".")}return{preface:V,exampleTag:l,listItems:v}});return(i,e)=>{const u=M;return h(),a(R,null,[t("article",L({class:"wish-card"},i.$attrs,{onClick:S}),[t("h3",Q,[H(o(y.value)+" ",1),f.value&&r.showCH?(h(),a("span",q,"CH: "+o(f.value),1)):x("",!0)]),t("button",{class:"heart-btn",type:"button","aria-pressed":c.value?"true":"false","aria-label":c.value?"Remove from favorites":"Add to favorites",onClick:e[0]||(e[0]=b(l=>j(I)(r.item),["stop","prevent"]))},[D((h(),a("svg",X,[...e[3]||(e[3]=[p('<g data-v-8ee98189><rect x="8.70996" y="1.45158" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="10.1616" y="0.000137329" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="11.6133" y="0.000137329" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="13.0649" y="0.000137329" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="7.2583" y="2.90349" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="5.80664" y="1.45158" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="4.3551" y="0.000137329" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="2.90344" y="0.000137329" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="1.45178" y="0.000137329" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="14.5166" y="1.45158" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="14.5166" y="2.90349" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="14.5166" y="4.35493" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="13.0649" y="5.80638" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="11.6133" y="7.25829" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="10.1616" y="8.71021" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="8.70996" y="10.1617" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="0.00012207" y="1.45158" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="0.00012207" y="2.90349" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="0.00012207" y="4.35493" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="2.90344" y="7.25829" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="1.45178" y="5.80638" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="4.3551" y="8.71021" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="5.80664" y="10.1617" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="7.2583" y="11.6136" width="1.45166" height="1.45166" data-v-8ee98189></rect></g>',1)])],512)),[[A,!c.value]]),D((h(),a("svg",Y,[...e[4]||(e[4]=[p('<g data-v-8ee98189><rect x="10.6667" y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="12.4446" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="14.2222" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="16" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="8.88892" y="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="7.11108" y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="5.3335" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="1.77783" y="0.000133514" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="1.77783" y="1.77797" width="5.33325" height="5.33301" fill="#D18FA1" data-v-8ee98189></rect><rect x="12.4446" y="1.77797" width="5.33325" height="5.33301" fill="#D18FA1" data-v-8ee98189></rect><rect x="7.11108" y="3.55526" width="5.33325" height="8.88916" fill="#D18FA1" data-v-8ee98189></rect><rect x="17.7778" y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="17.7778" y="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="17.7778" y="5.33338" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="16" y="7.11109" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="14.2222" y="8.8888" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="12.4446" y="10.6668" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="10.6667" y="12.4445" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect y="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect y="5.33338" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="3.55542" y="8.88881" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="5.33325" y="8.88881" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="5.33325" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="12.4443" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="12.4443" y="8.88875" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="14.2224" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="1.77783" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="3.55542" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="5.3335" y="10.6668" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="7.11108" y="12.4445" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="8.88892" y="14.2223" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="8.88892" y="12.4445" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect></g>',1)])],512)),[[A,c.value]])],8,G),t("div",Z,[t("img",{src:$.value,alt:y.value,class:"card-image",loading:"lazy",onError:B},null,40,ee)])],16),_.value?(h(),a("div",{key:0,class:"modal-overlay",onClick:b(N,["self"])},[t("div",te,[t("div",ie,[t("h2",ae,[H(o(y.value)+" ",1),f.value&&r.showCH?(h(),a("span",he,"CH: "+o(f.value),1)):x("",!0)]),r.item.City&&!r.item.Code.startsWith("P-")&&!r.item.Code.startsWith("F-")?(h(),a("span",re,"("+o(r.item.City)+")",1)):x("",!0),t("button",{class:"heart-btn",type:"button","aria-pressed":c.value?"true":"false","aria-label":c.value?"Remove from favorites":"Add to favorites",onClick:e[1]||(e[1]=b(l=>j(I)(r.item),["stop","prevent"]))},[D((h(),a("svg",ce,[...e[5]||(e[5]=[p('<g data-v-8ee98189><rect x="8.70996" y="1.45158" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="10.1616" y="0.000137329" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="11.6133" y="0.000137329" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="13.0649" y="0.000137329" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="7.2583" y="2.90349" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="5.80664" y="1.45158" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="4.3551" y="0.000137329" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="2.90344" y="0.000137329" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="1.45178" y="0.000137329" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="14.5166" y="1.45158" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="14.5166" y="2.90349" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="14.5166" y="4.35493" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="13.0649" y="5.80638" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="11.6133" y="7.25829" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="10.1616" y="8.71021" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="8.70996" y="10.1617" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="0.00012207" y="1.45158" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="0.00012207" y="2.90349" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="0.00012207" y="4.35493" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="2.90344" y="7.25829" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="1.45178" y="5.80638" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="4.3551" y="8.71021" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="5.80664" y="10.1617" width="1.45166" height="1.45166" data-v-8ee98189></rect><rect x="7.2583" y="11.6136" width="1.45166" height="1.45166" data-v-8ee98189></rect></g>',1)])],512)),[[A,!c.value]]),D((h(),a("svg",le,[...e[6]||(e[6]=[p('<g data-v-8ee98189><rect x="10.6667" y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="12.4446" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="14.2222" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="16" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="8.88892" y="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="7.11108" y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="5.3335" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="1.77783" y="0.000133514" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="1.77783" y="1.77797" width="5.33325" height="5.33301" fill="#D18FA1" data-v-8ee98189></rect><rect x="12.4446" y="1.77797" width="5.33325" height="5.33301" fill="#D18FA1" data-v-8ee98189></rect><rect x="7.11108" y="3.55526" width="5.33325" height="8.88916" fill="#D18FA1" data-v-8ee98189></rect><rect x="17.7778" y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="17.7778" y="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="17.7778" y="5.33338" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="16" y="7.11109" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="14.2222" y="8.8888" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="12.4446" y="10.6668" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="10.6667" y="12.4445" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect y="1.77771" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect y="3.55566" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect y="5.33338" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="3.55542" y="8.88881" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="5.33325" y="8.88881" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="5.33325" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="12.4443" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="12.4443" y="8.88875" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="14.2224" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="1.77783" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="3.55542" y="7.11097" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="5.3335" y="10.6668" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="7.11108" y="12.4445" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="8.88892" y="14.2223" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect><rect x="8.88892" y="12.4445" width="1.77778" height="1.77778" fill="#D18FA1" data-v-8ee98189></rect></g>',1)])],512)),[[A,c.value]])],8,de)]),t("div",se,[t("div",oe,[t("img",{src:$.value,alt:y.value,class:"modal-image",onError:B},null,40,ve)]),e[7]||(e[7]=t("div",{class:"modal-source-info"},[t("p",{class:"source-label"},"Image source:"),t("p",{class:"source-name"},"交通部觀光署")],-1)),t("div",ge,[t("div",ne,[m.value.preface.length>0?(h(),a("p",we,o(m.value.preface),1)):x("",!0),t("p",xe,o(m.value.exampleTag),1),t("ul",null,[(h(!0),a(R,null,P(m.value.listItems,(l,F)=>(h(),a("li",{key:F},o(l),1))),128))])])]),z(u,{text:"ok!",type:"ok",onClick:e[2]||(e[2]=l=>N())})])])])):x("",!0)],64)}}}),De=Object.assign(J(ye,[["__scopeId","data-v-8ee98189"]]),{__name:"WishCard"});export{De as _};
