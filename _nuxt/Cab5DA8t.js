import{_ as T}from"./CAQH29Vi.js";import{_ as b}from"./CKuTfxd_.js";import{_ as w}from"./BTxh1Rga.js";import{d as H,r as I,o as M,k as f,z as n,D as N,B as e,H as x,N as u,J as c,K as d,G as V,A as s,C as _,F as D,M as B,_ as W}from"./Dhb-oGz8.js";import{u as J}from"./DfxfsO8D.js";import{t as L}from"./DdGQAvxv.js";import"./Btsozv48.js";const G={id:"result-page",class:"page-layout"},Y={class:"frame"},$={key:0,class:"result-section"},z={class:"tour-list"},A={class:"tour-name"},K={class:"tour-desc"},O={class:"tour-spots"},P={class:"spots-list"},R={class:"ch-name"},U={key:1,class:"result-section"},j={class:"wishcard-grid"},q={key:2,class:"result-section"},Q={class:"wishcard-grid"},X={key:3,class:"no-results"},Z={class:"button-container"},tt=H({__name:"result",setup(et){const h=V(),{getMustSeeList:y,getMustEatList:g,loadData:S,favoriteIds:k}=J(),r=I([]);M(async()=>{await S();const a=localStorage.getItem("selectedTours");if(a)try{const t=JSON.parse(a);r.value=L.filter(l=>t.includes(l.id))}catch(t){console.error("Error parsing selected tours",t)}});const p=f(()=>y.value.filter(a=>k.value.includes(a.Code))),m=f(()=>g.value.filter(a=>k.value.includes(a.Code))),C=a=>[...y.value,...g.value].find(i=>i.Code===a)||{Name_EN:"Unknown Spot",Name_CH:"æœªçŸ¥"},E=f(()=>r.value.length===0&&p.value.length===0&&m.value.length===0);return(a,t)=>{const l=T,i=b,F=w;return s(),n("div",G,[N(l,{onClick:t[0]||(t[0]=o=>x(h).push("/must-eat"))}),e("main",Y,[t[7]||(t[7]=e("header",{class:"header-section"},[e("h1",{class:"title"},"ðŸŽ‰ Your Taiwan Journey"),e("p",{class:"subtitle"},"Hereâ€™s a summary of everything youâ€™ve picked for your trip!")],-1)),r.value.length>0?(s(),n("section",$,[t[3]||(t[3]=e("h2",{class:"section-title"},"ðŸ—ºï¸ Selected Tours",-1)),e("div",z,[(s(!0),n(c,null,d(r.value,o=>(s(),n("div",{key:o.id,class:"tour-item"},[e("h3",A,_(o.title),1),e("p",K,_(o.description),1),e("div",O,[t[2]||(t[2]=e("span",{class:"spots-label"},"Included spots:",-1)),e("ul",P,[(s(!0),n(c,null,d(o.pointCodes,v=>(s(),n("li",{key:v,class:"spot-item-mini"},[D(_(C(v).Name_EN)+" ",1),e("span",R,"(CH: "+_(C(v).Name_CH)+")",1)]))),128))])])]))),128))])])):u("",!0),p.value.length>0?(s(),n("section",U,[t[4]||(t[4]=e("h2",{class:"section-title"},"ðŸ“ Favorite Spots",-1)),e("div",j,[(s(!0),n(c,null,d(p.value,o=>(s(),B(i,{key:o.Code,item:o},null,8,["item"]))),128))])])):u("",!0),m.value.length>0?(s(),n("section",q,[t[5]||(t[5]=e("h2",{class:"section-title"},"ðŸ² Must-Eat Food",-1)),e("div",Q,[(s(!0),n(c,null,d(m.value,o=>(s(),B(i,{key:o.Code,item:o},null,8,["item"]))),128))])])):u("",!0),E.value?(s(),n("div",X,[...t[6]||(t[6]=[e("p",null,"You haven't picked anything yet! Go back and explore more.",-1)])])):u("",!0),e("div",Z,[N(F,{text:"Next: Watch a Video!",type:"next",onClick:t[1]||(t[1]=o=>x(h).push("/end"))})])])])}}}),ut=W(tt,[["__scopeId","data-v-4371902b"]]);export{ut as default};
